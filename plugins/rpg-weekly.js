/*
â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â•šâ•â•â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â•šâ•â•â•šâ•â•â•â•â•â•â•â–‘â•šâ•â•â•â•â•â•â–‘â•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•
Note: Terimakasih Telah Membeli Script Ini Semoga Bermanfaat
Copyright Â© 2024 - 2025 Crystalia
ê’°âš˜ê’± Admin Contact ê’±âŸ¡
ð“…¯ ð™‰Í¢ð™–ð™§ð™ªð™®ð™– ð™„Í¢ð™¯ð™ªð™¢ð™ž
https://linkbio.co/naruyaizumi
ð“…¯ ð™‘Í¢ð™¡ð™žð™£ð™š
WhatsApp: wa.me/6285770019354
ð“…¯ ð‘ºÍ¢ð‘¿ð’ð’ð’Šð’ˆð’‰ð’•ð’Žð’‚ð’“ð’†
WhatsApp: wa.me/6281398961382
*/

const rewards = {
exp: 20000,
money: 25000,
potion: 5,
limit: 10,
diamond: 1
}

const cooldown = 604800000
let handler = async (m, { conn }) => {
let user = global.db.data.users[m.sender]
if (new Date - user.lastweekly < cooldown) {
let remaining = user.lastweekly + cooldown - new Date
let h = Math.floor(remaining / 3600000)
let mnt = Math.floor(remaining / 60000) % 60
let s = Math.floor(remaining / 1000) % 60
return m.reply(`ðŸ® *Bonus mingguan sudah kamu klaim!* 
â³ *Tunggu ${h} jam ${mnt} menit ${s} detik lagi yaa~*`)
}
let teks = 'ðŸ¡ *Weekly Reward Time~!* ðŸŽ\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n'
for (let reward of Object.keys(rewards)) {
if (reward in user) {
user[reward] += rewards[reward]
teks += `*${global.rpg.emoticon(reward)} ${capitalize(reward)}: +${toRupiah(rewards[reward])}*\n`
}
}
teks += 'â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nðŸŒ· *Terima kasih sudah tetap aktif minggu ini!*'
m.reply(teks.trim())
user.lastweekly = new Date * 1
}

handler.help = ['weekly']
handler.tags = ['rpg']
handler.command = /^(weekly|mingguan)$/i
handler.register = true
handler.group = true
handler.cooldown = cooldown
handler.rpg = true

export default handler

function capitalize(str) {
return str.charAt(0).toUpperCase() + str.slice(1)
}

const toRupiah = number => {
let num = parseInt(number)
return Math.min(num, Number.MAX_SAFE_INTEGER).toLocaleString('id-ID').replace(/\./g, ",")
}